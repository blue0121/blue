<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:core="http://blue.com/schema/core"
       xmlns:mqtt="http://blue.com/schema/mqtt"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://blue.com/schema/core http://blue.com/schema/core.xsd
       http://blue.com/schema/mqtt http://blue.com/schema/mqtt.xsd">
	
	<core:task-executor id="taskExecutor" core-pool-size="10" max-pool-size="1000" queue-capacity="10000" keep-alive-seconds="60" />
	
	<mqtt:client id="mqttClient" url="tcp://localhost:1883" username="admin" password="admin" />
	<mqtt:producer id="mqttProducer" batch="3" default-qos="0" ref-mqtt-client="mqttClient" ref-producer-listener="producerListener" />
	
	<mqtt:listener-container id="mqttListenerContainer" ref-mqtt-client="mqttClient" ref-task-executor="taskExecutor">
		<mqtt:listener topic="$share/group1/test/+" ref-listener="mqttListener" />
	</mqtt:listener-container>
	
	<bean id="producerListener" class="test.mqtt.listener.DefaultProducerListener" />
	
	<bean id="mqttListener" class="test.mqtt.listener.DefaultMqttListener" />

</beans>